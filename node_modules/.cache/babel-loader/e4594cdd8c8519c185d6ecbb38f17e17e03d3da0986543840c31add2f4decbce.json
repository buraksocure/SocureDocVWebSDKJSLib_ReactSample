{"ast":null,"code":"var _jsxFileName = \"/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_ReactSample/src/SocureComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SocureComponent = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((_ref, ref) => {\n  _s();\n  let {\n    step = 1,\n    inputData = {},\n    processConfig = {},\n    sdkKey,\n    onSuccessCallback,\n    onErrorCallback\n  } = _ref;\n  let sdkInitiated = false;\n  let changesDone = false;\n  const onProgress = progress => {\n    console.log(progress);\n    console.log('progress');\n  };\n  const onSuccess = response => {\n    console.log(response);\n    console.log('success');\n    if (typeof onSuccessCallback === 'function') {\n      onSuccessCallback(response);\n    }\n  };\n  const onError = error => {\n    console.log(error);\n    console.log('error');\n    if (typeof onErrorCallback === 'function') {\n      onErrorCallback(error);\n    }\n  };\n  const config = {\n    onProgress: onProgress,\n    onSuccess: onSuccess,\n    onError: onError,\n    qrCodeNeeded: true\n  };\n  const clearSession = () => {\n    window.Socure.cleanup();\n    window.Socure.reset();\n    sessionStorage.removeItem('documentVerificationToken');\n    sessionStorage.removeItem('publicApiKey');\n    localStorage.removeItem('devicer_id');\n    console.log('Socure DocV Session cleaned!');\n  };\n  const start = () => {\n    if (sdkInitiated) {\n      clearSession();\n      console.log('cleaned');\n      sdkInitiated = false;\n    }\n    if (!sdkKey) {\n      console.error('SDK key is required');\n      return;\n    }\n    window.SocureInitializer.init(sdkKey).then(lib => {\n      lib.init(sdkKey, '#websdk', config).then(() => {\n        lib.start(step, inputData, processConfig).then(response => {\n          console.log(response);\n          sdkInitiated = true;\n        }, error => {\n          console.log(error);\n        });\n      });\n    });\n  };\n  useImperativeHandle(ref, () => ({\n    start\n  }));\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.type = 'text/javascript';\n    document.head.appendChild(script);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"websdk\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}, \"S4DRuXJuvsLAFPe4Wq315hqtO/U=\")), \"S4DRuXJuvsLAFPe4Wq315hqtO/U=\");\n_c2 = SocureComponent;\nexport default SocureComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"SocureComponent$forwardRef\");\n$RefreshReg$(_c2, \"SocureComponent\");","map":{"version":3,"names":["React","useEffect","useImperativeHandle","forwardRef","jsxDEV","_jsxDEV","Fragment","_Fragment","SocureComponent","_s","_c","_ref","ref","step","inputData","processConfig","sdkKey","onSuccessCallback","onErrorCallback","sdkInitiated","changesDone","onProgress","progress","console","log","onSuccess","response","onError","error","config","qrCodeNeeded","clearSession","window","Socure","cleanup","reset","sessionStorage","removeItem","localStorage","start","SocureInitializer","init","then","lib","script","document","createElement","src","type","head","appendChild","children","id","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_ReactSample/src/SocureComponent.js"],"sourcesContent":["import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\n\nconst SocureComponent = forwardRef(({\n  step = 1,\n  inputData = {},\n  processConfig = {},\n  sdkKey,\n  onSuccessCallback,\n  onErrorCallback,\n}, ref) => {\n  let sdkInitiated = false;\n  let changesDone = false;\n\n  const onProgress = (progress) => {\n    console.log(progress);\n    console.log('progress');\n  };\n\n  const onSuccess = (response) => {\n    console.log(response);\n    console.log('success');\n    if (typeof onSuccessCallback === 'function') {\n      onSuccessCallback(response);\n    }\n  };\n\n  const onError = (error) => {\n    console.log(error);\n    console.log('error');\n    if (typeof onErrorCallback === 'function') {\n      onErrorCallback(error);\n    }\n  };\n\n  const config = {\n    onProgress: onProgress,\n    onSuccess: onSuccess,\n    onError: onError,\n    qrCodeNeeded: true,\n  };\n\n  const clearSession = () => {\n    window.Socure.cleanup();\n    window.Socure.reset();\n    sessionStorage.removeItem('documentVerificationToken');\n    sessionStorage.removeItem('publicApiKey');\n    localStorage.removeItem('devicer_id');\n    console.log('Socure DocV Session cleaned!');\n  };\n\n  const start = () => {\n    if (sdkInitiated) {\n      clearSession();\n      console.log('cleaned');\n      sdkInitiated = false;\n    }\n\n    if (!sdkKey) {\n      console.error('SDK key is required');\n      return;\n    }\n\n    window.SocureInitializer.init(sdkKey).then((lib) => {\n      lib.init(sdkKey, '#websdk', config).then(() => {\n        lib.start(step, inputData, processConfig).then(\n          (response) => {\n            console.log(response);\n            sdkInitiated = true;\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      });\n    });\n  };\n\n  useImperativeHandle(ref, () => ({\n    start,\n  }));\n\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.type = 'text/javascript';\n    document.head.appendChild(script);\n  }, []);\n\n  return (\n    <>\n      <div id=\"websdk\"></div>\n    </>\n  );\n});\n\nexport default SocureComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}