{"ast":null,"code":"var _jsxFileName = \"/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_ReactSample/src/SocureComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SocureComponent = _ref => {\n  _s();\n  let {\n    step = 1,\n    inputData = {},\n    processConfig = {},\n    sdkKey,\n    onSuccessCallback,\n    onErrorCallback\n  } = _ref;\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.type = 'text/javascript';\n    document.head.appendChild(script);\n    let sdkInitiated = false;\n    let changesDone = false;\n    let eventId = \"\";\n    const onProgress = progress => {\n      // console.log(progress);\n      // console.log('progress');\n    };\n    const onSuccess = response => {\n      if (eventId != \"\") {\n        //console.log(response);\n        // console.log('success');\n        if (typeof onSuccessCallback === 'function') {\n          onSuccessCallback(response);\n          eventId = \"\";\n          document.getElementById(\"results\").innerHTML = \"Document Verification Process succesfully completed!\";\n          document.getElementById(\"websdk\").style.display = \"none\";\n        }\n      }\n    };\n    const onError = error => {\n      if (eventId != \"\") {\n        // console.log(error);\n        // console.log('error');\n        if (typeof onErrorCallback === 'function') {\n          onErrorCallback(error);\n          eventId = \"\";\n        }\n      }\n    };\n    const config = {\n      onProgress: onProgress,\n      onSuccess: onSuccess,\n      onError: onError,\n      qrCodeNeeded: true\n    };\n    const clearSession = () => {\n      window.Socure.cleanup();\n      window.Socure.reset();\n      sessionStorage.removeItem('documentVerificationToken');\n      sessionStorage.removeItem('publicApiKey');\n      localStorage.removeItem('devicer_id');\n      console.log('Socure DocV Session cleaned!');\n    };\n    const start = () => {\n      if (sdkInitiated) {\n        clearSession();\n        sdkInitiated = false;\n      }\n      if (!sdkKey) {\n        console.error('SDK key is required');\n        return;\n      }\n      window.SocureInitializer.init(sdkKey).then(lib => {\n        lib.init(sdkKey, '#websdk', config).then(() => {\n          lib.start(step, inputData, processConfig).then(response => {\n            console.log(response);\n            sdkInitiated = true;\n            eventId = response.eventId;\n          }, error => {\n            console.log(error);\n          });\n        });\n      });\n    };\n    window.start = start;\n  }, []);\n  const start = () => {\n    window.start();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: start,\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"websdk\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SocureComponent, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = SocureComponent;\nexport default SocureComponent;\nvar _c;\n$RefreshReg$(_c, \"SocureComponent\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","SocureComponent","_ref","_s","step","inputData","processConfig","sdkKey","onSuccessCallback","onErrorCallback","script","document","createElement","src","type","head","appendChild","sdkInitiated","changesDone","eventId","onProgress","progress","onSuccess","response","getElementById","innerHTML","style","display","onError","error","config","qrCodeNeeded","clearSession","window","Socure","cleanup","reset","sessionStorage","removeItem","localStorage","console","log","start","SocureInitializer","init","then","lib","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/burak.kebapci/Desktop/SocureDocVWebSDKJSLib_ReactSample/src/SocureComponent.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst SocureComponent = ({\n  step = 1,\n  inputData = {},\n  processConfig = {},\n  sdkKey,\n  onSuccessCallback,\n  onErrorCallback,\n}) => {\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://websdk.socure.com/bundle.js';\n    script.type = 'text/javascript';\n    document.head.appendChild(script);\n\n    let sdkInitiated = false;\n    let changesDone = false;\n    let eventId = \"\";\n\n    const onProgress = (progress) => {\n      // console.log(progress);\n      // console.log('progress');\n    };\n\n    const onSuccess = (response) => {\n      if (eventId != \"\") {\n        //console.log(response);\n        // console.log('success');\n        if (typeof onSuccessCallback === 'function') {\n          onSuccessCallback(response);\n          eventId = \"\"\n          document.getElementById(\"results\").innerHTML = \"Document Verification Process succesfully completed!\";\n          document.getElementById(\"websdk\").style.display = \"none\"\n        }\n      }\n    };\n\n    const onError = (error) => {\n      if (eventId != \"\") {\n        // console.log(error);\n        // console.log('error');\n        if (typeof onErrorCallback === 'function') {\n          onErrorCallback(error);\n          eventId = \"\"\n        }\n      }\n    };\n\n    const config = {\n      onProgress: onProgress,\n      onSuccess: onSuccess,\n      onError: onError,\n      qrCodeNeeded: true,\n    };\n\n    const clearSession = () => {\n      window.Socure.cleanup();\n      window.Socure.reset();\n      sessionStorage.removeItem('documentVerificationToken');\n      sessionStorage.removeItem('publicApiKey');\n      localStorage.removeItem('devicer_id');\n      console.log('Socure DocV Session cleaned!');\n    };\n\n    const start = () => {\n      if (sdkInitiated) {\n        clearSession();\n        sdkInitiated = false;\n      }\n\n      if (!sdkKey) {\n        console.error('SDK key is required');\n        return;\n      }\n\n      window.SocureInitializer.init(sdkKey).then((lib) => {\n        lib.init(sdkKey, '#websdk', config).then(() => {\n          lib.start(step, inputData, processConfig).then(\n            (response) => {\n              console.log(response);\n              sdkInitiated = true;\n              eventId = response.eventId;\n            },\n            (error) => {\n              console.log(error);\n            }\n          );\n        });\n      });\n    };\n\n    window.start = start;\n  }, []);\n\n  const start = () => {\n    window.start();\n  };\n\n  return (\n    <>\n      <button onClick={start}>Start</button>\n      <div id=\"websdk\"></div>\n      <div id=\"results\"></div>\n    </>\n  );\n};\n\nexport default SocureComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}